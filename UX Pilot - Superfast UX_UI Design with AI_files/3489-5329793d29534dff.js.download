"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3489],{3489:function(e,t,s){s.d(t,{i:function(){return FeatureIcon}});var n=s(45610),r=s(9),l=s(50044),i=s(57437),a=s(2265),c=s(26171),o=s(17268),d=s(600),u=s(29528),x=s(89788),p=s(24033);s(16691);var h=s(46615),m=s(46095),f=s(60453),b=s(76340),g=s(13682),FeatureIcon=function(e){var t=e.included;return"yes"===t?(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM16.2 10.3L11.4 15.1C11 15.5 10.4 15.5 10 15.1L7.8 12.9C7.4 12.5 7.4 11.9 7.8 11.5C8.2 11.1 8.8 11.1 9.2 11.5L10.7 13L14.8 8.9C15.2 8.5 15.8 8.5 16.2 8.9C16.6 9.3 16.6 9.9 16.2 10.3Z",fill:"#3F20FB"})}):"enterprise"===t?(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,i.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM16.2 10.3L11.4 15.1C11 15.5 10.4 15.5 10 15.1L7.8 12.9C7.4 12.5 7.4 11.9 7.8 11.5C8.2 11.1 8.8 11.1 9.2 11.5L10.7 13L14.8 8.9C15.2 8.5 15.8 8.5 16.2 8.9C16.6 9.3 16.6 9.9 16.2 10.3Z",fill:"url(#paint0_linear_6204_34164)"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_6204_34164",x1:"-4",y1:"-10",x2:"17.5",y2:"22",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{"stop-color":"#3F20FB"}),(0,i.jsx)("stop",{offset:"1","stop-color":"#B377FF"})]})})]}):"limited"===t?(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 17C11.4 17 11 16.6 11 16C11 15.4 11.4 15 12 15C12.6 15 13 15.4 13 16C13 16.6 12.6 17 12 17ZM13 12C13 12.6 12.6 13 12 13C11.4 13 11 12.6 11 12V8C11 7.4 11.4 7 12 7C12.6 7 13 7.4 13 8V12Z",fill:"#BFB5FE"})}):(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:(0,i.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM15.7 14.3C16.1 14.7 16.1 15.3 15.7 15.7C15.3 16.1 14.7 16.1 14.3 15.7L12 13.4L9.7 15.7C9.3 16.1 8.7 16.1 8.3 15.7C7.9 15.3 7.9 14.7 8.3 14.3L10.6 12L8.3 9.7C7.9 9.3 7.9 8.7 8.3 8.3C8.7 7.9 9.3 7.9 9.7 8.3L12 10.6L14.3 8.3C14.7 7.9 15.3 7.9 15.7 8.3C16.1 8.7 16.1 9.3 15.7 9.7L13.4 12L15.7 14.3Z",fill:"#BABABF"})})},LoadingSpinner=function(){return(0,i.jsx)("div",{className:"text-indigo-600 mt-2",children:(0,i.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 2.21.896 4.21 2.344 5.658l2.657-2.368z"})]})})};t.Z=function(e){var t,s=e.plan,j=e.isYearlySelected,w=(0,r._)((0,a.useState)(!1),2),y=w[0],v=w[1],C=(0,r._)((0,a.useState)(!1),2),N=C[0],F=C[1],S=(0,o.mU)(),L=S.isSubscribed,B=(S.isLoading,S.subscriptionEndsAt),U=S.subscriptionCancelledAt,k=S.planType,_=(0,h.Z)(),Z=_.myPlanLevel,M=_.findSubscriptionCTAText,A=_.planChanged,D=_.confirmationModalText,E=(0,c.aC)(),I=E.currentUser,T=E.userInfo,Y=(0,p.useRouter)(),O=(0,d.Z)(),J=O.subscribe,P=(O.errorSubscription,O.isSubscriptionLoading),R=(0,u.B)();R.cancelSubscription,R.errorCancelSubscription,R.cancelLoading;var V=(0,b.Z)().notify,handleStartFree=function(){Y.push("/signup")},z=(t=(0,n._)(function(){var e;return(0,l.Jh)(this,function(t){switch(t.label){case 0:if(A)return V({message:"You have a new plan coming up! Your current plan will be cancelled on your next billing date!",type:"info"}),[2];if(B&&U)return V({message:"Your subscription will be cancelled on your next billing date! You will be able to subscribe again on the next billing date.",type:"info"}),[2];t.label=1;case 1:if(t.trys.push([1,6,7,8]),!I||!I.email)return console.log("about to redirtect"),Y.push("/signup"),[2];if(v(!0),!("Subscribe"===M(s.paymentUrl)||k===m.FD.FREE))return[3,3];return[4,J(s.paymentUrl)];case 2:return t.sent(),(0,f.hb)("userInfoData"),Y.push("/a"),[3,5];case 3:return[4,(0,x.M)(T.uid,s.paymentUrl)];case 4:t.sent(),(0,f.hb)("userInfoData"),t.label=5;case 5:return[3,8];case 6:return console.error(e=t.sent()),V({message:e.message,type:"error"}),[3,8];case 7:return v(!1),[7];case 8:return[2]}})}),function(){return t.apply(this,arguments)});return(0,i.jsxs)("div",{className:"w-full block relative",children:[s.highlight&&(0,i.jsx)("div",{className:"hidden lg:block absolute -top-7 left-0 right-0 text-center mb-2",children:(0,i.jsx)("span",{className:"font-caveat text-3xl text-white",children:"Better Value"})}),j&&"Free"!==s.title&&(0,i.jsx)("div",{className:"absolute top-[3.75rem] right-4 bg-carbon-200 text-carbon-700 text-xs font-bold px-2 py-1 rounded-full",children:"Save 25%"}),(0,i.jsxs)("div",{className:"flex-1 flex mx-auto flex-col w-full mt-4 md:mt-6 max-w-xl rounded-[28px] shadow-lg bg-white text-gray-800 \n          ".concat(s.borderOutline?"outline outline-offset-2 outline-4 outline-amethyst-300":""),children:[(0,i.jsxs)("div",{className:"p-4 py-8 border-b md:p-8 md:h-[250px]",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("div",{className:"flex flex-row h-[32px] w-full items-center mb-4 justify-between",children:(0,i.jsx)("span",{className:"text-xl px-2 py-1 rounded-md font-semibold ".concat(s.titleClass),children:s.title})}),(0,i.jsxs)("div",{className:"flex text-6xl font-bold mb-4 items-start",children:["Free"!==s.price&&(0,i.jsx)("span",{className:"text-xl font-normal",children:"$"}),(0,i.jsxs)("span",{children:[s.price,"Free"!==s.price&&(0,i.jsx)("span",{className:"text-xl font-normal",children:s.priceSuffix}),"Free"===s.price&&(0,i.jsx)("span",{className:"text-xl font-normal ml-4",children:"(forever)"})]})]})]}),(0,i.jsx)("div",{className:"max-h-[48px] h-[48px]",children:function(){if(P||y)return(0,i.jsx)(LoadingSpinner,{});if(!I&&"Free"===s.title)return(0,i.jsx)("button",{onClick:handleStartFree,className:"w-full h-full border-0 flex text-xl pb-0.5 bg-[#3F20FB] hover:bg-[#2104D1] active:bg-[#2104D1] text-white items-center justify-center gap-x-3 border rounded-full duration-150",children:"Start for Free"});if(L&&B&&Z===s.planLevel)return(0,i.jsxs)("p",{className:"font-bold mt-3 text-indigo-600",children:["Your plan will be cancelled on ",B]});var e="Upgrade"===M(s.paymentUrl)?"w-full h-full flex text-xl bg-[#3F20FB] hover:bg-[#2104D1] active:bg-[#2104D1] text-white items-center justify-center gap-x-3 border rounded-full duration-150":"Downgrade"===M(s.paymentUrl)||"Start Free"===M(s.paymentUrl)?"w-full h-full flex text-xl  border-amethyst-700 hover:border-amethyst-800 active:border-amethyst-800 text-amethyst-800 items-center justify-center gap-x-3 border rounded-full duration-150":"Active Plan"===M(s.paymentUrl)||"Active on Next Billing"===M(s.paymentUrl)?"w-full h-full flex text-xl bg-carbon-200 text-[#0BAC46] items-center justify-center gap-x-3 border rounded-full duration-150":"w-full h-full flex text-xl bg-[#3F20FB] hover:bg-[#2104D1] active:bg-[#2104D1] text-white items-center justify-center gap-x-3 border rounded-full duration-150";return"Free"!==s.price?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{disabled:P||y||"Active Plan"===M(s.paymentUrl),className:e,onClick:function(){F(!0)},children:M(s.paymentUrl)}),(0,i.jsx)("p",{className:"text-xs text-center mt-1 font-medium opacity-70",children:"Secure payment powered by Stripe"})]}):null}()})]}),(0,i.jsxs)("div",{className:"px-4 md:px-8 py-4 border-b",children:[(0,i.jsx)("div",{className:"pb-2 col-span-2 font-medium text-left",children:(0,i.jsx)("p",{children:"Credits"})}),(0,i.jsxs)("div",{className:"flex flex-row space-x-2 items-start",children:[(0,i.jsx)(g.Z,{width:24,height:24,className:"p-0.5"}),(0,i.jsx)("div",{className:"flex flex-col",children:s.isLoading&&"Free"===s.title?(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 mb-2"}),(0,i.jsx)("div",{className:"h-5 bg-gray-200 rounded w-24"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"font-medium",children:[s.creditsNumb," credits"," ",(0,i.jsx)("span",{className:"opacity-50 font-normal",children:s.Creditsconditions})]}),(0,i.jsxs)("p",{className:"text-carbon-700/70",children:["up-to ",s.screensNumb," screens"]})]})})]})]}),(0,i.jsxs)("ul",{className:"px-4 md:px-8 py-4 pb-8 space-y-3 md:block",children:[(0,i.jsx)("div",{className:"col-span-2 font-medium text-left",children:(0,i.jsx)("p",{children:"Features"})}),s.features.map(function(e,t){return(0,i.jsxs)("li",{className:"flex items-center gap-3 font-medium rounded-sm transition-colors duration-200","data-feature-index":t,children:[(0,i.jsx)(FeatureIcon,{included:e.included}),(0,i.jsxs)("div",{className:"flex items-center justify-start gap-2 ".concat(e.highlight?"bg-amethyst-100 py-0.5 px-1 rounded-sm":""),children:[(0,i.jsx)("span",{className:"".concat(e.highlight?"text-amethyst-800 break-words whitespace-nowrap":""),children:e.name}),e.conditions&&(0,i.jsx)("span",{className:"text-sm ".concat(e.highlight?"text-amethyst-700/80":""),children:e.conditions})]})]},t)})]})]}),N&&(0,i.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg",children:[(0,i.jsx)("p",{className:"mb-4",children:D(s.paymentUrl)}),(0,i.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,i.jsx)("button",{onClick:function(){z(),F(!1)},className:"px-4 py-1 bg-amethyst-700 text-white rounded hover:bg-amethyst-800",children:"Yes"}),(0,i.jsx)("button",{onClick:function(){return F(!1)},className:"px-4 py-1 bg-carbon-300 text-carbon-800 rounded hover:bg-carbon-400",children:"No"})]})]})})]})}},89788:function(e,t,s){s.d(t,{E:function(){return c},M:function(){return o}});var n,r,l=s(45610),i=s(50044),a=s(38597),c=(n=(0,l._)(function(e,t){var s;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return[4,fetch("".concat(a.URLS.streamUrl,"/subscription/cancel-subscription"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,planId:t})})];case 1:if(!(s=n.sent()).ok)throw Error("Failed to cancel subscription");return[2,s.json()]}})}),function(e,t){return n.apply(this,arguments)}),o=(r=(0,l._)(function(e,t){var s,n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return[4,fetch("".concat(a.URLS.streamUrl,"/subscription/update-subscription"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,planId:t})})];case 1:if(!(s=r.sent()).ok)throw Error("Failed to update subscription");return[4,s.json()];case 2:if(!1===(n=r.sent()).success)throw Error(n.message);return[2,n]}})}),function(e,t){return r.apply(this,arguments)})}}]);